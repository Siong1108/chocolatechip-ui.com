<h1>Slider</h1>

<p>ChocolateChip-UI provide a basic slider allowing the user to choose values along a sliding scale. The method $.UISlider implements both mouse-based and touch-based slider thumb dragging so you can test on in a desktop browser and on a mobile device. $.UISlider uses $.UICurX and $.UICurY to register the current x and y coordinates for both mouse and touch tracking. The code for tracking mouse drags is about four times more than what was needed to implement the touch version. At the same time, based on the $.UICurX value, ChocolateChip-UI registers a value on $.UISliderValue. By querying this you can get the present value of the thumb. This value is calculated based on the mid position of the thumb in relation to the slider.</p>

<p>You create your slider with very basic markup: a track and a thumb. Although the slider track is just one element, ChocolateChip-UI paints two different gradient patterns over it: one for the metallic background and another for the progress track indicator on the left. The slider's thumb, like the thumb in the switch control, has as its child a thumbprop which gets used for stylist purposes. You do need it inside the thumb so don't forget it.</p>

<p>When you create a slider, you need to also indicate its width with an inline style. At initilization time $.UISlider will query this width and determine how far it can drag the thumb. Slider comes in a default style with a smooth thumb. You can choose a more metallic look by giving the slider the class "media-player". See the example below.</p>

<p>In its present version, the slider calculates it's values from the length of the slider. This value will also be the mid position of the thumb relative to its position on the slider.</p>

<p><strong>Example:</strong></p>

<pre><code>&lt;slider id="slider_01" style="width: 280px;"&gt;
    &lt;thumb&gt;&lt;thumbprop&gt;&lt;/thumbprop&gt;&lt;/thumb&gt;
&lt;/slider&gt;

&lt;slider id="slider_02" style="width: 280px;" class="media-player"&gt;
    &lt;thumb&gt;&lt;thumbprop&gt;&lt;/thumbprop&gt;&lt;/thumb&gt;
&lt;/slider&gt;
</code></pre>

<h2>Setting a Default Value:</h2>

<p>If you wanted to have the slider show an initial default value you would need to do a couple of things. Firstly, either in markup or by JavaScript you would need to set the position of the thumb and the slider progress track to the value you want. Secondly you would need to set that value on the $.UISliderValue variable. Setting the thumb is very straightforward. Since the thumb's position will be based on its mid point, you'll need to set the thumb's left position taking this into account. What you'd need to do is calculate the thumb's width, divide it by 2 and round up to the next integer. This is because in order to position the thumb at a mid position, it is width is always and odd number. If a thumb were 21 pixels wide, its mid position with be 11, etc. See the example below to see how this can be calculated. In the example we are going to set the default to 120, so set the left position of the slider correctly, we need to subtract the slider's mid position from 120 to get the left position for the thumb.</p>

<p>To control the placement of the slider progress track you need to manipulate the value of the slider's background gradients' background size. Since the progress track is the first part, you only need to modify it. The second part is the background gray metallic track. For the both gradients, the first size value is the one that defines their widths, the second defines their height. Because the gradients are being rendered as a single background-image, to change the values of one gradient, you also need to include the values of the second one unchanged. This would be true for however many stacked gradients you might have. Since we want to set the default value to 120 pixels, to make the progress track look right, we need to add two extra pixels to its with to move it up under the rounded part of the thumb. We the new width for the progress track will be 122px.</p>

<pre><code>$.ready(function() {
    var thumbWidth = $("#slider_01 &gt; thumb").css("width");
    // Divide the thumb's width by 2 and round it
    // to the next higest number:
    thumbWidth = Math.round(thumbWidth / 2);
    // Subtract the half width value from the desired position:
    var thumbPos = 102 - thumbWidth;
    // Set the left of the thumb to the thumbPos value:
    $("#slider_01 &gt; thumb").css("{left: " + thumbPos + "px;}");
    // Set the width of the progress track to the desired position plus two pixels:
    $("#slider_01").css("{ -webkit-background-size: 122px 9px, 100% 9px }");
    // Set the UISliderValue to the desired default slider value:
    $.UISliderValue = 120;
});
</code></pre>

<p>Yeah, I know this is a lot of work to set a default value. I'll add a method to this soon to make this a one liner with the default value to set all of this for you.</p>

<h2>Tracking Slider Usage:</h2>

<p>OK, so you've got a slider on the screen and the user and drag the thumb back and forth across the slider. Now we'll look at how you can get that value and do something with it. Let's assume we are going to use the slider to get values from 0 to 255 for computing an RGB color value. Since an RGB color consists of three parts, we only need to manipulate one of these. I'm choosing red because its the first value of the triplet. Since $.UISliderValue is set by the sliding of the thumb we need to put it in a local variable with we want to apply any math operations on it. In the example below I'm use <em>xVal</em> for that. Assuming there is a container with an id of "redColor", I can update its color value passed on the value of $.UISliderValue:</p>

<pre><code>var updateColorFromSlider = function() {
    var xVal = $.UISliderValue;
    // Make sure the value is not greater than 255:
    if (xVal &gt; 255) {
        xVal = 255;
    }
    // Make sure the value is not less than 0:
    if (xVal &lt; 0) {
        xVal = 0;
    }
    // Set the background color of #redColor to the new value:
    $("#redColor").css("{background-color: rgb(" + xVal +",0,0)}");
};
</code></pre>
